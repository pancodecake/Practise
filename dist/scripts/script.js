const section=document.querySelectorAll(".accardion");let cardHeight="140px",cardOpacity="1",cardDisplay="block";console.log("History"===document.title);const cardProps={title:"Новый проект SKIlllINE",owner:"Коцюбинский Дмитрий",date:"14.02.2023",projTitle:"Доступ к сайту по SSH",link:"access.html"},rowProps={name:"Доступ к сайту по SSH",desc:"Изменение доступа к сайту",login:"admin",password:"qwerty123gh",url:"https://lk.skillline.ru",date:"07.11.2022",svg:'<button class=\'btns menuBtn tableBtn\' ><svg width="47" height="47" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M23.5 7.34375C14.5771 7.34375 7.34375 14.5771 7.34375 23.5C7.34375 32.4229 14.5771 39.6562 23.5 39.6562C32.4229 39.6562 39.6562 32.4229 39.6562 23.5C39.6562 14.5771 32.4229 7.34375 23.5 7.34375ZM4.40625 23.5C4.40625 12.9548 12.9548 4.40625 23.5 4.40625C34.0452 4.40625 42.5938 12.9548 42.5938 23.5C42.5938 34.0452 34.0452 42.5938 23.5 42.5938C12.9548 42.5938 4.40625 34.0452 4.40625 23.5Z" fill="#C6CDD3"/>\n<path d="M23.5 25.7031C24.7168 25.7031 25.7031 24.7168 25.7031 23.5C25.7031 22.2832 24.7168 21.2969 23.5 21.2969C22.2832 21.2969 21.2969 22.2832 21.2969 23.5C21.2969 24.7168 22.2832 25.7031 23.5 25.7031Z" fill="#C6CDD3"/>\n<path d="M23.5 16.8906C24.7168 16.8906 25.7031 15.9043 25.7031 14.6875C25.7031 13.4707 24.7168 12.4844 23.5 12.4844C22.2832 12.4844 21.2969 13.4707 21.2969 14.6875C21.2969 15.9043 22.2832 16.8906 23.5 16.8906Z" fill="#C6CDD3"/>\n<path d="M23.5 34.5156C24.7168 34.5156 25.7031 33.5293 25.7031 32.3125C25.7031 31.0957 24.7168 30.1094 23.5 30.1094C22.2832 30.1094 21.2969 31.0957 21.2969 32.3125C21.2969 33.5293 22.2832 34.5156 23.5 34.5156Z" fill="#C6CDD3"/>\n</svg></button>'},historyProps={name:"Изменение доступа к сайту",changed:"Коцюбинский Дмитрий",date:"07.11.2022"},row=` <div class="table-row btnCon"><div class='table-row__div'><span id="name" >${"History"===document.title?historyProps.name:rowProps.name}</span><span id="about" >${"History"===document.title?historyProps.changed:rowProps.desc}</span><span id="login">${"History"===document.title?historyProps.date:rowProps.login}</span><span id="password">${"History"===document.title?"":rowProps.password}</span><span id="url">${"History"===document.title?"":rowProps.url}</span><span id="founding_date">${"History"===document.title?"":rowProps.date}</span>\n${"History"===document.title?"":rowProps.svg}\n<div  class=" popup table-popup side set">\n<ul class="menu">\n    <li><div class="triangle"></div></li>\n    <li><a data-pop='move' data-pos='next2btnLeft'  href="#" class="side-link move  "><img src="img/Icon.png" alt="img/icon-drag.svg">Переместить</a></li>\n    <li><a data-pop='tie' data-pos='next2btnLeft'   href="#" class="side-link tie  "><img src="img/chain.svg" alt="img/icon-drag.svg">Привязать к категории</a></li>\n <li ><a data-pop='redact'  href="#" class="side-link redact useCover "><img src="img/Icon-key.svg" alt="img/icon-drag.svg">Редактировать пароль</a>\n     \n    </li>\n   \n    <li><a data-pop='dlt' href="#" class="side-link dlt useCover "><img src="img/icon-bin.svg" alt="img/icon-drag.svg">Удалить</a></li>\n   \n</ul>\n\n</div></div> </div>`,Card=`<div class="card btnCon"><a href='${"Projects"===document.title?cardProps.link:"projects.html"}'>\n<div class="card-title">\n     <div class="card-title__box">\n\n     </div>\n     <h3 class="card-title__h3">${"Projects"===document.title?cardProps.projTitle:cardProps.title}</h3>\n     <button id="underBtn" data-target='card-menu' class=' btns menuBtn  loadedBtn'>\n        <svg  width="16" height="16" viewBox="0 0 47 47" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M23.5 7.34375C14.5771 7.34375 7.34375 14.5771 7.34375 23.5C7.34375 32.4229 14.5771 39.6562 23.5 39.6562C32.4229 39.6562 39.6562 32.4229 39.6562 23.5C39.6562 14.5771 32.4229 7.34375 23.5 7.34375ZM4.40625 23.5C4.40625 12.9548 12.9548 4.40625 23.5 4.40625C34.0452 4.40625 42.5938 12.9548 42.5938 23.5C42.5938 34.0452 34.0452 42.5938 23.5 42.5938C12.9548 42.5938 4.40625 34.0452 4.40625 23.5Z" fill="#C6CDD3"/>\n            <path d="M23.5 25.7031C24.7168 25.7031 25.7031 24.7168 25.7031 23.5C25.7031 22.2832 24.7168 21.2969 23.5 21.2969C22.2832 21.2969 21.2969 22.2832 21.2969 23.5C21.2969 24.7168 22.2832 25.7031 23.5 25.7031Z" fill="#C6CDD3"/>\n            <path d="M23.5 16.8906C24.7168 16.8906 25.7031 15.9043 25.7031 14.6875C25.7031 13.4707 24.7168 12.4844 23.5 12.4844C22.2832 12.4844 21.2969 13.4707 21.2969 14.6875C21.2969 15.9043 22.2832 16.8906 23.5 16.8906Z" fill="#C6CDD3"/>\n            <path d="M23.5 34.5156C24.7168 34.5156 25.7031 33.5293 25.7031 32.3125C25.7031 31.0957 24.7168 30.1094 23.5 30.1094C22.2832 30.1094 21.2969 31.0957 21.2969 32.3125C21.2969 33.5293 22.2832 34.5156 23.5 34.5156Z" fill="#C6CDD3"/>\n            </svg>\n            <button>\n</div>\n<div class="card-owner">\n    <h2>\n        Владелец\n    </h2>\n    <p class="card-owner__name">${cardProps.owner}</p>\n</div>\n<div class="card-date">\n    <h2>\n        Дата создания\n    </h2>\n    <p class="card-date__time">${cardProps.date}</p>\n</div>\n<div class=" cardSet popup side mainPop loadedPop">\n<ul class="menu">\n    <li><div class="triangle"></div></li>\n    <li ><a data-pop='card-redact' href="#" class="side-link card-redact useCover"><img src="img/settings.svg" alt="img/icon-drag.svg">Редактировать</a></li>\n    ${"Projects"===document.title?"":'<li class="menu__list"><a href="#" data-pop=\'card-move\' data-pos="next2btn"  class="side-link card-move "><img src="img/Icon-a.svg" alt="img/icon-drag.svg">Переместить</a></li>'}\n  \n    <li><a href="#" data-pop='card-dlt' class="side-link card-dlt useCover"><img src="img/icon-bin.svg" alt="img/icon-drag.svg">Удалить</a></li>\n   \n</ul>\n\n</div>\n\n</div></a>`,body=document.body;let lastClicked,cover=document.createElement("div");cover.className="cover";const btns=document.querySelectorAll(".btns:not(.menuBtn)"),menuBtn=document.querySelectorAll(".menuBtn "),popup=document.querySelectorAll(".popup"),popSide=document.querySelectorAll(".popup-side"),mainPop=document.querySelectorAll(".mainPop"),menuBtnCon=document.querySelector(".btnCon");function btnListener(e){const t=e.querySelector(".btns"),n=e.querySelector(".popup");n.querySelectorAll(".side-link").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),addingBtnMenuItems(this,popup)}))})),t.addEventListener("click",(function(e){popActive(e,this,n),removeOnClick(e,t,n),console.log("repeat",e.target)}))}function open(e){setTimeout((()=>{e.style.visibility="visible",e.style.opacity="1",e.style.pointerEvents="auto"}),e.animationDelay+20)}function close(e){setTimeout((()=>{e.style.opacity="0",e.style.pointerEvents="none"}),e.animationDelay+20)}function removeOnClick(e,t,n){document.addEventListener("click",(function(o){console.log("doc click added"),popSide&&popSide.forEach((e=>{void 0!==lastClicked&&lastClicked.classList.contains(e.id)&&lastClicked!==o.target&&!o.target.closest(".popup-side")&&(console.log({last:lastClicked.classList,id:e.id,first:o.target,mainParent:o.target.closest(".popup")}),lastClicked.classList.remove("btnMenu-active"),o.target.classList.contains("useCover")?cover.style.visibility="visible":cover.style.visibility="hidden",close(e))})),console.log(t,o.target),o.target!==t&&(o.target.closest(".popup")||(t.classList.remove("btnMenu-active"),addingBtnMenu(e.target,n),close(n),console.log("clicked away 1"))),o.target.classList.contains("btns")||o.target.closest(".popup")||(console.log("clicked away 2"),t.classList.remove("btnMenu-active"),addingBtnMenu(e.target,n),cover.style.visibility="hidden",popup.forEach((e=>{close(e)}))),lastClicked=o.target}))}function popActive(e,t,n){e.preventDefault(),t.classList.toggle("btnMenu-active"),console.log("popActive()"),addingBtnMenu(e.target,n)}function addingBtnMenu(e,t){e.classList.contains("btnMenu-active")?open(t):e.classList.contains("btnMenu-active")||close(t)}function addingBtnMenuItems(e,t){console.log(e),t.forEach((t=>{const n=e.parentElement.getBoundingClientRect();let o=null!==e.closest("section")?e.closest("section").getBoundingClientRect():"0";const s={top:n.top+window.scrollY,left:n.left-o.left+window.scrollX,width:n.width,height:n.height-20,underbtnTop:n.top+window.scrollY+60,linkWidth:t.getBoundingClientRect().width};var i;e.dataset.pop===t.id&&(console.log("step 1:Id matched"),console.log(void 0===e.dataset.pos),console.log(t.classList.contains("Xbtn")?t:"nope"),"underBtn"===e.dataset.pos&&(console.log("is underbtn",n.left,e.parentElement),t.style.transform=`translate(${s.left-s.width-180}px,${s.underbtnTop-s.height}px`),"next2btn"===e.dataset.pos?(console.log("NEXT 2 BTN"),console.log(n.left,e.closest(".btnCon"),e.closest(".btnCon").getBoundingClientRect().left),t.style.transform=`translate(${s.left+s.width+10}px,${s.top-s.height}px`):e.classList.contains("useCover")||void 0!==e.dataset.pos?"next2btnLeft"===e.dataset.pos&&(console.log("NEXT 2 BTN LEFT"),t.style.transform=`translate(${s.left-s.linkWidth-10}px,${s.top-s.height+10}px`,console.log(s.left,e,s.width)):(console.log("normal position"),t.style.transform=`translate(${s.left-s.width}px,${s.top-s.height}px`),t.classList.contains("Xbtn")?(console.log("is Xbtn"),function(t){e.classList.add("btnMenu-active"),"underBtn"!==e.dataset.pos&&(body.append(cover),cover.style.visibility="visible");e.classList.contains("btnMenu-active")&&(console.log("Xbtn contains active"),open(t));const n=t.querySelector(".modal__close");n&&n.addEventListener("click",(function(){cover.style.visibility="hidden",close(t)}));const o=t.querySelector(".btn__b");console.log(o,"button"),o&&(console.log(o),o.addEventListener("click",(function(){cover.style.visibility="hidden",close(t)})))}(t)):(i=t,e.classList.toggle("btnMenu-active"),console.log(e),e.classList.contains("btnMenu-active")?(console.log("toggle active got added"),open(i)):e.classList.contains("btnMenu-active")||(console.log("toggle active got removed"),console.log(i),close(i))))}))}function loadContent(){for(sec of section){if(sec.className.includes("_project")){const l=sec.querySelector(".acc-con"),c=sec.dataset.el;for(i=0;i<c;i++)l.innerHTML+=Card;function t(e){e.style.height=`${e.getBoundingClientRect().height}px`}t(l),window.addEventListener("resize",(function(){t(l)}))}sec.querySelectorAll(".card").forEach((e=>{btnListener(e),e.addEventListener("click",(function(e){e.target.classList.contains("btns")&&e.preventDefault()}))}))}for(sec of section)if(sec.className.includes("_table")){const a=sec.querySelector(".table-rows"),d=sec.querySelector(".acc-con"),r=sec.dataset.el;for(i=0;i<r;i++)a.innerHTML+=row;function n(){d.style.height=`${d.getBoundingClientRect().height}px`}n(),window.addEventListener("resize",n);a.querySelectorAll(".table-row__div").forEach((e=>{btnListener(e)}))}const o=document.querySelectorAll(".accardion");for(e of o){const p=e.querySelector(".acc-btn"),u=e.querySelector(".acc-con");function s(e){p.classList.toggle("accBtn-active"),u.classList.contains("acc-closed")?(u.classList.remove("acc-closed"),setTimeout((()=>{u.classList.add("acc-open")}),500)):(u.classList.add("acc-closed"),setTimeout((()=>{u.style.display="none"}),500))}p.addEventListener("click",s)}}btns.forEach((e=>{e.addEventListener("click",(function(t){console.log(btns),addingBtnMenuItems(this,popup),removeOnClick(t,e,popup)}))})),menuBtn.forEach((e=>{e.addEventListener("mouseover",(function(e){if(e.preventDefault(),this.closest(".btnCon")){btnListener(this.closest(".btnCon")),console.log("success")}}),{once:!0})})),console.log("hehe"),window.addEventListener("DOMContentLoaded",loadContent);const checklist=document.querySelector(".modal-checkbox"),checkItem=checklist.querySelectorAll(".modal-checkbox__item");console.log(checkItem),checkItem.forEach((e=>{e.querySelector(".check__input").addEventListener("click",(function(){this.checked?e.style.backgroundColor="#D5F1FB":e.style.backgroundColor="white",this.checked?e.style.backgroundColor="#D5F1FB":e.style.backgroundColor="white",console.log("hehe")}))}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJzZWN0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2FyZEhlaWdodCIsImNhcmRPcGFjaXR5IiwiY2FyZERpc3BsYXkiLCJjb25zb2xlIiwibG9nIiwidGl0bGUiLCJjYXJkUHJvcHMiLCJvd25lciIsImRhdGUiLCJwcm9qVGl0bGUiLCJsaW5rIiwicm93UHJvcHMiLCJuYW1lIiwiZGVzYyIsImxvZ2luIiwicGFzc3dvcmQiLCJ1cmwiLCJzdmciLCJoaXN0b3J5UHJvcHMiLCJjaGFuZ2VkIiwicm93IiwiQ2FyZCIsImJvZHkiLCJsYXN0Q2xpY2tlZCIsImNvdmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJ0bnMiLCJtZW51QnRuIiwicG9wdXAiLCJwb3BTaWRlIiwibWFpblBvcCIsIm1lbnVCdG5Db24iLCJxdWVyeVNlbGVjdG9yIiwiYnRuTGlzdGVuZXIiLCJidG5Db24iLCJjYXJkQnRucyIsImNhcmRQb3B1cCIsImZvckVhY2giLCJtQnRuIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBvcGUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZGluZ0J0bk1lbnVJdGVtcyIsInRoaXMiLCJjYXJkZSIsInBvcEFjdGl2ZSIsInJlbW92ZU9uQ2xpY2siLCJ0YXJnZXQiLCJvcGVuIiwidGFyZ2V0SXRlbSIsInNldFRpbWVvdXQiLCJzdHlsZSIsInZpc2liaWxpdHkiLCJvcGFjaXR5IiwicG9pbnRlckV2ZW50cyIsImFuaW1hdGlvbkRlbGF5IiwiY2xvc2UiLCJlbCIsInBvcEJ0bnMiLCJwb3BNZW51IiwiZG9jIiwic2IiLCJ1bmRlZmluZWQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImlkIiwiY2xvc2VzdCIsImxhc3QiLCJmaXJzdCIsIm1haW5QYXJlbnQiLCJyZW1vdmUiLCJhZGRpbmdCdG5NZW51IiwicCIsInB0aGF0IiwidG9nZ2xlIiwidGhhdCIsImJ0bk1lbnUiLCJwb3BzIiwiZWxDb3JkIiwicGFyZW50RWxlbWVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsb3NlQ29uIiwiY29yZHMiLCJ0b3AiLCJ3aW5kb3ciLCJzY3JvbGxZIiwibGVmdCIsInNjcm9sbFgiLCJ3aWR0aCIsImhlaWdodCIsInVuZGVyYnRuVG9wIiwibGlua1dpZHRoIiwiaXRlbSIsImRhdGFzZXQiLCJwb3AiLCJwb3MiLCJ0cmFuc2Zvcm0iLCJhZGQiLCJhcHBlbmQiLCJYIiwiWGJ0biIsIm1lbnVJdGVtc1giLCJsb2FkQ29udGVudCIsInNlYyIsImluY2x1ZGVzIiwicHJvaiIsImVsQ2hpbGRyZW4iLCJpIiwiaW5uZXJIVE1MIiwiYWRkaW5nQ2FyZEhlaWdodCIsImFjY0NvblNpemUiLCJjYXJkIiwiZSIsInRhYmxlcyIsImFjY0NvbiIsImFkZGluZ1RhYmxlSGVpZ2h0IiwidGFiIiwiYWNjIiwiYnRuIiwiY29uIiwicmVtb3Zlc0Jsb2NrIiwiZGlzcGxheSIsIm0iLCJvbmNlIiwiY2hlY2tsaXN0IiwiY2hlY2tJdGVtIiwiY2hlY2siLCJjaGVja2VkIiwiYmFja2dyb3VuZENvbG9yIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFVQyxTQUFTQyxpQkFBaUIsY0FDMUMsSUFBSUMsV0FBYSxRQUNiQyxZQUFjLElBQ2RDLFlBQWMsUUFDbEJDLFFBQVFDLElBQXVCLFlBQW5CTixTQUFTTyxPQUNyQixNQUFNQyxVQUFZLENBQ2hCRCxNQUFPLHlCQUNQRSxNQUFPLHNCQUNQQyxLQUFNLGFBQ05DLFVBQVcsd0JBQ1hDLEtBQU0sZUFFRkMsU0FBVyxDQUNmQyxLQUFNLHdCQUNOQyxLQUFNLDRCQUNOQyxNQUFPLFFBQ1BDLFNBQVUsY0FDVkMsSUFBSywwQkFDTFIsS0FBTSxhQUNOUyxJQUFLLCt3Q0FPREMsYUFBZSxDQUNuQk4sS0FBTSw0QkFDTk8sUUFBUyxzQkFDVFgsS0FBTSxjQUVGWSxJQUFNLCtFQUNTLFlBQW5CdEIsU0FBU08sTUFBc0JhLGFBQWFOLEtBQU9ELFNBQVNDLGdDQUV6QyxZQUFuQmQsU0FBU08sTUFB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QUdoQixDQUFFd0gsTUFBTSxPQWlhWnpILFFBQVFDLElBQUksUUFDWmlGLE9BQU83QyxpQkFBaUIsbUJBQW9CK0QsYUFFNUMsTUFBTXNCLFVBQVkvSCxTQUFTbUMsY0FBYyxtQkFDbkM2RixVQUFZRCxVQUFVOUgsaUJBQWlCLHlCQUM3Q0ksUUFBUUMsSUFBSTBILFdBQ1pBLFVBQVV4RixTQUFTeUYsSUFDRUEsRUFBTTlGLGNBQWMsaUJBQzVCTyxpQkFBaUIsU0FBUyxXQUMvQkksS0FBS29GLFFBQ1BELEVBQU0zRSxNQUFNNkUsZ0JBQWtCLFVBRTlCRixFQUFNM0UsTUFBTTZFLGdCQUFrQixRQUVoQ3JGLEtBQUtvRixRQUNBRCxFQUFNM0UsTUFBTTZFLGdCQUFrQixVQUM5QkYsRUFBTTNFLE1BQU02RSxnQkFBa0IsUUFDbkM5SCxRQUFRQyxJQUFJIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFjY2FyZGlvblwiKTtcclxubGV0IGNhcmRIZWlnaHQgPSBcIjE0MHB4XCI7XHJcbmxldCBjYXJkT3BhY2l0eSA9IFwiMVwiO1xyXG5sZXQgY2FyZERpc3BsYXkgPSBcImJsb2NrXCI7XHJcbmNvbnNvbGUubG9nKGRvY3VtZW50LnRpdGxlID09PSBcIkhpc3RvcnlcIik7XHJcbmNvbnN0IGNhcmRQcm9wcyA9IHtcclxuICB0aXRsZTogXCLQndC+0LLRi9C5INC/0YDQvtC10LrRgiBTS0lsbGxJTkVcIixcclxuICBvd25lcjogXCLQmtC+0YbRjtCx0LjQvdGB0LrQuNC5INCU0LzQuNGC0YDQuNC5XCIsXHJcbiAgZGF0ZTogXCIxNC4wMi4yMDIzXCIsXHJcbiAgcHJvalRpdGxlOiBcItCU0L7RgdGC0YPQvyDQuiDRgdCw0LnRgtGDINC/0L4gU1NIXCIsXHJcbiAgbGluazogXCJhY2Nlc3MuaHRtbFwiLFxyXG59O1xyXG5jb25zdCByb3dQcm9wcyA9IHtcclxuICBuYW1lOiBcItCU0L7RgdGC0YPQvyDQuiDRgdCw0LnRgtGDINC/0L4gU1NIXCIsXHJcbiAgZGVzYzogXCLQmNC30LzQtdC90LXQvdC40LUg0LTQvtGB0YLRg9C/0LAg0Log0YHQsNC50YLRg1wiLFxyXG4gIGxvZ2luOiBcImFkbWluXCIsXHJcbiAgcGFzc3dvcmQ6IFwicXdlcnR5MTIzZ2hcIixcclxuICB1cmw6IFwiaHR0cHM6Ly9say5za2lsbGxpbmUucnVcIixcclxuICBkYXRlOiBcIjA3LjExLjIwMjJcIixcclxuICBzdmc6IGA8YnV0dG9uIGNsYXNzPSdidG5zIG1lbnVCdG4gdGFibGVCdG4nID48c3ZnIHdpZHRoPVwiNDdcIiBoZWlnaHQ9XCI0N1wiIHZpZXdCb3g9XCIwIDAgNDcgNDdcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cclxuPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTIzLjUgNy4zNDM3NUMxNC41NzcxIDcuMzQzNzUgNy4zNDM3NSAxNC41NzcxIDcuMzQzNzUgMjMuNUM3LjM0Mzc1IDMyLjQyMjkgMTQuNTc3MSAzOS42NTYyIDIzLjUgMzkuNjU2MkMzMi40MjI5IDM5LjY1NjIgMzkuNjU2MiAzMi40MjI5IDM5LjY1NjIgMjMuNUMzOS42NTYyIDE0LjU3NzEgMzIuNDIyOSA3LjM0Mzc1IDIzLjUgNy4zNDM3NVpNNC40MDYyNSAyMy41QzQuNDA2MjUgMTIuOTU0OCAxMi45NTQ4IDQuNDA2MjUgMjMuNSA0LjQwNjI1QzM0LjA0NTIgNC40MDYyNSA0Mi41OTM4IDEyLjk1NDggNDIuNTkzOCAyMy41QzQyLjU5MzggMzQuMDQ1MiAzNC4wNDUyIDQyLjU5MzggMjMuNSA0Mi41OTM4QzEyLjk1NDggNDIuNTkzOCA0LjQwNjI1IDM0LjA0NTIgNC40MDYyNSAyMy41WlwiIGZpbGw9XCIjQzZDREQzXCIvPlxyXG48cGF0aCBkPVwiTTIzLjUgMjUuNzAzMUMyNC43MTY4IDI1LjcwMzEgMjUuNzAzMSAyNC43MTY4IDI1LjcwMzEgMjMuNUMyNS43MDMxIDIyLjI4MzIgMjQuNzE2OCAyMS4yOTY5IDIzLjUgMjEuMjk2OUMyMi4yODMyIDIxLjI5NjkgMjEuMjk2OSAyMi4yODMyIDIxLjI5NjkgMjMuNUMyMS4yOTY5IDI0LjcxNjggMjIuMjgzMiAyNS43MDMxIDIzLjUgMjUuNzAzMVpcIiBmaWxsPVwiI0M2Q0REM1wiLz5cclxuPHBhdGggZD1cIk0yMy41IDE2Ljg5MDZDMjQuNzE2OCAxNi44OTA2IDI1LjcwMzEgMTUuOTA0MyAyNS43MDMxIDE0LjY4NzVDMjUuNzAzMSAxMy40NzA3IDI0LjcxNjggMTIuNDg0NCAyMy41IDEyLjQ4NDRDMjIuMjgzMiAxMi40ODQ0IDIxLjI5NjkgMTMuNDcwNyAyMS4yOTY5IDE0LjY4NzVDMjEuMjk2OSAxNS45MDQzIDIyLjI4MzIgMTYuODkwNiAyMy41IDE2Ljg5MDZaXCIgZmlsbD1cIiNDNkNERDNcIi8+XHJcbjxwYXRoIGQ9XCJNMjMuNSAzNC41MTU2QzI0LjcxNjggMzQuNTE1NiAyNS43MDMxIDMzLjUyOTMgMjUuNzAzMSAzMi4zMTI1QzI1LjcwMzEgMzEuMDk1NyAyNC43MTY4IDMwLjEwOTQgMjMuNSAzMC4xMDk0QzIyLjI4MzIgMzAuMTA5NCAyMS4yOTY5IDMxLjA5NTcgMjEuMjk2OSAzMi4zMTI1QzIxLjI5NjkgMzMuNTI5MyAyMi4yODMyIDM0LjUxNTYgMjMuNSAzNC41MTU2WlwiIGZpbGw9XCIjQzZDREQzXCIvPlxyXG48L3N2Zz48L2J1dHRvbj5gLFxyXG59O1xyXG5jb25zdCBoaXN0b3J5UHJvcHMgPSB7XHJcbiAgbmFtZTogXCLQmNC30LzQtdC90LXQvdC40LUg0LTQvtGB0YLRg9C/0LAg0Log0YHQsNC50YLRg1wiLFxyXG4gIGNoYW5nZWQ6IFwi0JrQvtGG0Y7QsdC40L3RgdC60LjQuSDQlNC80LjRgtGA0LjQuVwiLFxyXG4gIGRhdGU6IFwiMDcuMTEuMjAyMlwiLFxyXG59O1xyXG5jb25zdCByb3cgPSBgIDxkaXYgY2xhc3M9XCJ0YWJsZS1yb3cgYnRuQ29uXCI+PGRpdiBjbGFzcz0ndGFibGUtcm93X19kaXYnPjxzcGFuIGlkPVwibmFtZVwiID4ke1xyXG4gIGRvY3VtZW50LnRpdGxlID09PSBcIkhpc3RvcnlcIiA/IGhpc3RvcnlQcm9wcy5uYW1lIDogcm93UHJvcHMubmFtZVxyXG59PC9zcGFuPjxzcGFuIGlkPVwiYWJvdXRcIiA+JHtcclxuICBkb2N1bWVudC50aXRsZSA9PT0gXCJIaXN0b3J5XCIgPyBoaXN0b3J5UHJvcHMuY2hhbmdlZCA6IHJvd1Byb3BzLmRlc2NcclxufTwvc3Bhbj48c3BhbiBpZD1cImxvZ2luXCI+JHtcclxuICBkb2N1bWVudC50aXRsZSA9PT0gXCJIaXN0b3J5XCIgPyBoaXN0b3J5UHJvcHMuZGF0ZSA6IHJvd1Byb3BzLmxvZ2luXHJcbn08L3NwYW4+PHNwYW4gaWQ9XCJwYXNzd29yZFwiPiR7XHJcbiAgZG9jdW1lbnQudGl0bGUgPT09IFwiSGlzdG9yeVwiID8gXCJcIiA6IHJvd1Byb3BzLnBhc3N3b3JkXHJcbn08L3NwYW4+PHNwYW4gaWQ9XCJ1cmxcIj4ke1xyXG4gIGRvY3VtZW50LnRpdGxlID09PSBcIkhpc3RvcnlcIiA/IFwiXCIgOiByb3dQcm9wcy51cmxcclxufTwvc3Bhbj48c3BhbiBpZD1cImZvdW5kaW5nX2RhdGVcIj4ke1xyXG4gIGRvY3VtZW50LnRpdGxlID09PSBcIkhpc3RvcnlcIiA/IFwiXCIgOiByb3dQcm9wcy5kYXRlXHJcbn08L3NwYW4+XHJcbiR7ZG9jdW1lbnQudGl0bGUgPT09IFwiSGlzdG9yeVwiID8gXCJcIiA6IHJvd1Byb3BzLnN2Z31cclxuPGRpdiAgY2xhc3M9XCIgcG9wdXAgdGFibGUtcG9wdXAgc2lkZSBzZXRcIj5cclxuPHVsIGNsYXNzPVwibWVudVwiPlxyXG4gICAgPGxpPjxkaXYgY2xhc3M9XCJ0cmlhbmdsZVwiPjwvZGl2PjwvbGk+XHJcbiAgICA8bGk+PGEgZGF0YS1wb3A9J21vdmUnIGRhdGEtcG9zPSduZXh0MmJ0bkxlZnQnICBocmVmPVwiI1wiIGNsYXNzPVwic2lkZS1saW5rIG1vdmUgIFwiPjxpbWcgc3JjPVwiaW1nL0ljb24ucG5nXCIgYWx0PVwiaW1nL2ljb24tZHJhZy5zdmdcIj7Qn9C10YDQtdC80LXRgdGC0LjRgtGMPC9hPjwvbGk+XHJcbiAgICA8bGk+PGEgZGF0YS1wb3A9J3RpZScgZGF0YS1wb3M9J25leHQyYnRuTGVmdCcgICBocmVmPVwiI1wiIGNsYXNzPVwic2lkZS1saW5rIHRpZSAgXCI+PGltZyBzcmM9XCJpbWcvY2hhaW4uc3ZnXCIgYWx0PVwiaW1nL2ljb24tZHJhZy5zdmdcIj7Qn9GA0LjQstGP0LfQsNGC0Ywg0Log0LrQsNGC0LXQs9C+0YDQuNC4PC9hPjwvbGk+XHJcbiA8bGkgPjxhIGRhdGEtcG9wPSdyZWRhY3QnICBocmVmPVwiI1wiIGNsYXNzPVwic2lkZS1saW5rIHJlZGFjdCB1c2VDb3ZlciBcIj48aW1nIHNyYz1cImltZy9JY29uLWtleS5zdmdcIiBhbHQ9XCJpbWcvaWNvbi1kcmFnLnN2Z1wiPtCg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMINC/0LDRgNC+0LvRjDwvYT5cclxuICAgICBcclxuICAgIDwvbGk+XHJcbiAgIFxyXG4gICAgPGxpPjxhIGRhdGEtcG9wPSdkbHQnIGhyZWY9XCIjXCIgY2xhc3M9XCJzaWRlLWxpbmsgZGx0IHVzZUNvdmVyIFwiPjxpbWcgc3JjPVwiaW1nL2ljb24tYmluLnN2Z1wiIGFsdD1cImltZy9pY29uLWRyYWcuc3ZnXCI+0KPQtNCw0LvQuNGC0Yw8L2E+PC9saT5cclxuICAgXHJcbjwvdWw+XHJcblxyXG48L2Rpdj48L2Rpdj4gPC9kaXY+YDtcclxuXHJcbmNvbnN0IENhcmQgPSBgPGRpdiBjbGFzcz1cImNhcmQgYnRuQ29uXCI+PGEgaHJlZj0nJHtcclxuICBkb2N1bWVudC50aXRsZSA9PT0gXCJQcm9qZWN0c1wiID8gY2FyZFByb3BzLmxpbmsgOiBcInByb2plY3RzLmh0bWxcIlxyXG59Jz5cclxuPGRpdiBjbGFzcz1cImNhcmQtdGl0bGVcIj5cclxuICAgICA8ZGl2IGNsYXNzPVwiY2FyZC10aXRsZV9fYm94XCI+XHJcblxyXG4gICAgIDwvZGl2PlxyXG4gICAgIDxoMyBjbGFzcz1cImNhcmQtdGl0bGVfX2gzXCI+JHtcclxuICAgICAgIGRvY3VtZW50LnRpdGxlID09PSBcIlByb2plY3RzXCIgPyBjYXJkUHJvcHMucHJvalRpdGxlIDogY2FyZFByb3BzLnRpdGxlXHJcbiAgICAgfTwvaDM+XHJcbiAgICAgPGJ1dHRvbiBpZD1cInVuZGVyQnRuXCIgZGF0YS10YXJnZXQ9J2NhcmQtbWVudScgY2xhc3M9JyBidG5zIG1lbnVCdG4gIGxvYWRlZEJ0bic+XHJcbiAgICAgICAgPHN2ZyAgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCA0NyA0N1wiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMjMuNSA3LjM0Mzc1QzE0LjU3NzEgNy4zNDM3NSA3LjM0Mzc1IDE0LjU3NzEgNy4zNDM3NSAyMy41QzcuMzQzNzUgMzIuNDIyOSAxNC41NzcxIDM5LjY1NjIgMjMuNSAzOS42NTYyQzMyLjQyMjkgMzkuNjU2MiAzOS42NTYyIDMyLjQyMjkgMzkuNjU2MiAyMy41QzM5LjY1NjIgMTQuNTc3MSAzMi40MjI5IDcuMzQzNzUgMjMuNSA3LjM0Mzc1Wk00LjQwNjI1IDIzLjVDNC40MDYyNSAxMi45NTQ4IDEyLjk1NDggNC40MDYyNSAyMy41IDQuNDA2MjVDMzQuMDQ1MiA0LjQwNjI1IDQyLjU5MzggMTIuOTU0OCA0Mi41OTM4IDIzLjVDNDIuNTkzOCAzNC4wNDUyIDM0LjA0NTIgNDIuNTkzOCAyMy41IDQyLjU5MzhDMTIuOTU0OCA0Mi41OTM4IDQuNDA2MjUgMzQuMDQ1MiA0LjQwNjI1IDIzLjVaXCIgZmlsbD1cIiNDNkNERDNcIi8+XHJcbiAgICAgICAgICAgIDxwYXRoIGQ9XCJNMjMuNSAyNS43MDMxQzI0LjcxNjggMjUuNzAzMSAyNS43MDMxIDI0LjcxNjggMjUuNzAzMSAyMy41QzI1LjcwMzEgMjIuMjgzMiAyNC43MTY4IDIxLjI5NjkgMjMuNSAyMS4yOTY5QzIyLjI4MzIgMjEuMjk2OSAyMS4yOTY5IDIyLjI4MzIgMjEuMjk2OSAyMy41QzIxLjI5NjkgMjQuNzE2OCAyMi4yODMyIDI1LjcwMzEgMjMuNSAyNS43MDMxWlwiIGZpbGw9XCIjQzZDREQzXCIvPlxyXG4gICAgICAgICAgICA8cGF0aCBkPVwiTTIzLjUgMTYuODkwNkMyNC43MTY4IDE2Ljg5MDYgMjUuNzAzMSAxNS45MDQzIDI1LjcwMzEgMTQuNjg3NUMyNS43MDMxIDEzLjQ3MDcgMjQuNzE2OCAxMi40ODQ0IDIzLjUgMTIuNDg0NEMyMi4yODMyIDEyLjQ4NDQgMjEuMjk2OSAxMy40NzA3IDIxLjI5NjkgMTQuNjg3NUMyMS4yOTY5IDE1LjkwNDMgMjIuMjgzMiAxNi44OTA2IDIzLjUgMTYuODkwNlpcIiBmaWxsPVwiI0M2Q0REM1wiLz5cclxuICAgICAgICAgICAgPHBhdGggZD1cIk0yMy41IDM0LjUxNTZDMjQuNzE2OCAzNC41MTU2IDI1LjcwMzEgMzMuNTI5MyAyNS43MDMxIDMyLjMxMjVDMjUuNzAzMSAzMS4wOTU3IDI0LjcxNjggMzAuMTA5NCAyMy41IDMwLjEwOTRDMjIuMjgzMiAzMC4xMDk0IDIxLjI5NjkgMzEuMDk1NyAyMS4yOTY5IDMyLjMxMjVDMjEuMjk2OSAzMy41MjkzIDIyLjI4MzIgMzQuNTE1NiAyMy41IDM0LjUxNTZaXCIgZmlsbD1cIiNDNkNERDNcIi8+XHJcbiAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICA8YnV0dG9uPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNhcmQtb3duZXJcIj5cclxuICAgIDxoMj5cclxuICAgICAgICDQktC70LDQtNC10LvQtdGGXHJcbiAgICA8L2gyPlxyXG4gICAgPHAgY2xhc3M9XCJjYXJkLW93bmVyX19uYW1lXCI+JHtjYXJkUHJvcHMub3duZXJ9PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cImNhcmQtZGF0ZVwiPlxyXG4gICAgPGgyPlxyXG4gICAgICAgINCU0LDRgtCwINGB0L7Qt9C00LDQvdC40Y9cclxuICAgIDwvaDI+XHJcbiAgICA8cCBjbGFzcz1cImNhcmQtZGF0ZV9fdGltZVwiPiR7Y2FyZFByb3BzLmRhdGV9PC9wPlxyXG48L2Rpdj5cclxuPGRpdiBjbGFzcz1cIiBjYXJkU2V0IHBvcHVwIHNpZGUgbWFpblBvcCBsb2FkZWRQb3BcIj5cclxuPHVsIGNsYXNzPVwibWVudVwiPlxyXG4gICAgPGxpPjxkaXYgY2xhc3M9XCJ0cmlhbmdsZVwiPjwvZGl2PjwvbGk+XHJcbiAgICA8bGkgPjxhIGRhdGEtcG9wPSdjYXJkLXJlZGFjdCcgaHJlZj1cIiNcIiBjbGFzcz1cInNpZGUtbGluayBjYXJkLXJlZGFjdCB1c2VDb3ZlclwiPjxpbWcgc3JjPVwiaW1nL3NldHRpbmdzLnN2Z1wiIGFsdD1cImltZy9pY29uLWRyYWcuc3ZnXCI+0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Yw8L2E+PC9saT5cclxuICAgICR7XHJcbiAgICAgIGRvY3VtZW50LnRpdGxlID09PSBcIlByb2plY3RzXCJcclxuICAgICAgICA/IFwiXCJcclxuICAgICAgICA6IGA8bGkgY2xhc3M9XCJtZW51X19saXN0XCI+PGEgaHJlZj1cIiNcIiBkYXRhLXBvcD0nY2FyZC1tb3ZlJyBkYXRhLXBvcz1cIm5leHQyYnRuXCIgIGNsYXNzPVwic2lkZS1saW5rIGNhcmQtbW92ZSBcIj48aW1nIHNyYz1cImltZy9JY29uLWEuc3ZnXCIgYWx0PVwiaW1nL2ljb24tZHJhZy5zdmdcIj7Qn9C10YDQtdC80LXRgdGC0LjRgtGMPC9hPjwvbGk+YFxyXG4gICAgfVxyXG4gIFxyXG4gICAgPGxpPjxhIGhyZWY9XCIjXCIgZGF0YS1wb3A9J2NhcmQtZGx0JyBjbGFzcz1cInNpZGUtbGluayBjYXJkLWRsdCB1c2VDb3ZlclwiPjxpbWcgc3JjPVwiaW1nL2ljb24tYmluLnN2Z1wiIGFsdD1cImltZy9pY29uLWRyYWcuc3ZnXCI+0KPQtNCw0LvQuNGC0Yw8L2E+PC9saT5cclxuICAgXHJcbjwvdWw+XHJcblxyXG48L2Rpdj5cclxuXHJcbjwvZGl2PjwvYT5gO1xyXG5cclxuLy89PT09PT09XHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xyXG5sZXQgY292ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5sZXQgbGFzdENsaWNrZWQ7XHJcbmNvdmVyLmNsYXNzTmFtZSA9IFwiY292ZXJcIjtcclxuY29uc3QgYnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYnRuczpub3QoLm1lbnVCdG4pXCIpO1xyXG5jb25zdCBtZW51QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tZW51QnRuIFwiKTtcclxuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwXCIpO1xyXG5jb25zdCBwb3BTaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cC1zaWRlXCIpO1xyXG5jb25zdCBtYWluUG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluUG9wXCIpO1xyXG5cclxuLy8gcG9wdXAuZm9yRWFjaChwb3AgPT4ge1xyXG4vLyAgIHBvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oKXtcclxuLy8gICB9KVxyXG4vLyB9KVxyXG4vLyBsZXQgY292ZXI9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb3ZlckNvbicpXHJcbi8vRnVjbnRpb24gZm9yIGFsbCBidG5zXHJcbmNvbnN0IG1lbnVCdG5Db24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bkNvblwiKTtcclxuYnRucy5mb3JFYWNoKChidG4pID0+IHtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhidG5zKTtcclxuICAgIGFkZGluZ0J0bk1lbnVJdGVtcyh0aGlzLCBwb3B1cCk7XHJcbiAgICByZW1vdmVPbkNsaWNrKGUsIGJ0biwgIHBvcHVwKVxyXG4gICAgLy8gICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLGZ1bmN0aW9uKG0pe1xyXG4gICAgLy8gICAgICAgbS5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgLy8gIGlmKHRoaXMuY2xvc2VzdCgnLmJ0bkNvbicpKXtcclxuICAgIC8vICAgIGNvbnN0IG1haW5QYXJlbnQgPSB0aGlzLmNsb3Nlc3QoJy5idG5Db24nKVxyXG5cclxuICAgIC8vICAgIGJ0bkxpc3RlbmVyKG1haW5QYXJlbnQpXHJcbiAgICAvLyAgICBjb25zb2xlLmxvZygnc3VjY2VzcycpXHJcbiAgICAvLyAgfVxyXG4gICAgLy8gfSx7b25jZSA6IHRydWV9KVxyXG4gIH0pO1xyXG59KTtcclxubWVudUJ0bi5mb3JFYWNoKChidG4pID0+IHtcclxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgIFwibW91c2VvdmVyXCIsXHJcbiAgICBmdW5jdGlvbiAobSkge1xyXG4gICAgICBtLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5jbG9zZXN0KFwiLmJ0bkNvblwiKSkge1xyXG4gICAgICAgIGNvbnN0IG1haW5QYXJlbnQgPSB0aGlzLmNsb3Nlc3QoXCIuYnRuQ29uXCIpO1xyXG5cclxuICAgICAgICBidG5MaXN0ZW5lcihtYWluUGFyZW50KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIik7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7IG9uY2U6IHRydWUgfVxyXG4gICk7XHJcbn0pO1xyXG5cclxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5mdW5jdGlvbiBidG5MaXN0ZW5lcihidG5Db24pIHtcclxuICBjb25zdCBjYXJkQnRucyA9IGJ0bkNvbi5xdWVyeVNlbGVjdG9yKFwiLmJ0bnNcIik7XHJcbiAgY29uc3QgY2FyZFBvcHVwID0gYnRuQ29uLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBcIik7XHJcbiAgY29uc3QgcG9wU2lkZUJ0bnMgPSBjYXJkUG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5zaWRlLWxpbmtcIik7XHJcbiAgcG9wU2lkZUJ0bnMuZm9yRWFjaCgobUJ0bikgPT4ge1xyXG4gICAgbUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKHBvcGUpIHtcclxuICAgICAgcG9wZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgYWRkaW5nQnRuTWVudUl0ZW1zKHRoaXMsIHBvcHVwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG4gIGNhcmRCdG5zLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoY2FyZGUpIHtcclxuICAgIHBvcEFjdGl2ZShjYXJkZSwgdGhpcywgY2FyZFBvcHVwKTtcclxuICAgIHJlbW92ZU9uQ2xpY2soY2FyZGUsIGNhcmRCdG5zLCAgY2FyZFBvcHVwKVxyXG4gICAgY29uc29sZS5sb2coXCJyZXBlYXRcIiwgY2FyZGUudGFyZ2V0KTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBvcGVuKHRhcmdldEl0ZW0pIHtcclxuICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIHRhcmdldEl0ZW0uc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gICAgdGFyZ2V0SXRlbS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnb3BlbmluZycsdGFyZ2V0SXRlbSlcclxuICAgIHRhcmdldEl0ZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiO1xyXG4gIH0sIHRhcmdldEl0ZW0uYW5pbWF0aW9uRGVsYXkgKyAyMCk7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2UodGFyZ2V0SXRlbSkge1xyXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2Nsb3NpbmcnLHRhcmdldEl0ZW0pXHJcbiAgICB0YXJnZXRJdGVtLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgIHRhcmdldEl0ZW0uc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiO1xyXG4gIH0sIHRhcmdldEl0ZW0uYW5pbWF0aW9uRGVsYXkgKyAyMCk7XHJcbn1cclxuLy8gZnVuY3Rpb24gdHJpZ2dlcihlbGVtZW50KXtcclxuLy8gaWYoZWxlbWVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidG5zJykgJiYgZWxlbWVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidG5NZW51LWFjdGl2ZScpICApe1xyXG5cclxuLy8gICBjb25zdCBwb3BUcmlnZ2VyID0gZWxlbWVudC50YXJnZXQuY2xvc2VzdCgnLmJ0bkNvbicpLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpXHJcbi8vICAgcG9wVHJpZ2dlci5jbGFzc0xpc3QucmVtb3ZlKCdidG5NZW51LWFjdGl2ZScpXHJcbi8vIGNsb3NlKHBvcFRyaWdnZXIpXHJcbi8vIH1cclxuXHJcbi8vICB9XHJcblxyXG5mdW5jdGlvbiByZW1vdmVPbkNsaWNrKGVsLCBwb3BCdG5zLCBwb3BNZW51KSB7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChkb2MpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJkb2MgY2xpY2sgYWRkZWRcIik7XHJcblxyXG4gICAgICBpZiAocG9wU2lkZSkge1xyXG4gICAgICAgIC8vY2xvc2Ugb25lIHBvcHNpZGUgd2hlbiBvdGhlciBvcGVuZWRcclxuXHJcbiAgICAgICAgcG9wU2lkZS5mb3JFYWNoKChzYikgPT4ge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coe2xhc3RjbGlja2VkOmxhc3RDbGlja2VkLmNsYXNzTGlzdCxwc2lkZTpzYi5pZH0pJiYgbGFzdENsaWNrZWQuY2xhc3NMaXN0LmNvbnRhaW5zKHNiLmlkKSAmJiBsYXN0Q2xpY2tlZCAhPT0gZG9jLnRhcmdldCAmJiAhZG9jLnRhcmdldC5jbG9zZXN0KCcucG9wdXAtc2lkZScpXHJcbiAgICAgICAgICAvL2Nsb3NlIGxhc3Qgb3BlbmVkIGxpbmtwb3B1cFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBsYXN0Q2xpY2tlZCAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGxhc3RDbGlja2VkLmNsYXNzTGlzdC5jb250YWlucyhzYi5pZCkgJiZcclxuICAgICAgICAgICAgbGFzdENsaWNrZWQgIT09IGRvYy50YXJnZXQgJiZcclxuICAgICAgICAgICAgIWRvYy50YXJnZXQuY2xvc2VzdChcIi5wb3B1cC1zaWRlXCIpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coe1xyXG4gICAgICAgICAgICAgIGxhc3Q6IGxhc3RDbGlja2VkLmNsYXNzTGlzdCxcclxuICAgICAgICAgICAgICBpZDogc2IuaWQsXHJcbiAgICAgICAgICAgICAgZmlyc3Q6IGRvYy50YXJnZXQsXHJcbiAgICAgICAgICAgICAgbWFpblBhcmVudDogZG9jLnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwXCIpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGFzdENsaWNrZWQuY2xhc3NMaXN0LnJlbW92ZShcImJ0bk1lbnUtYWN0aXZlXCIpO1xyXG4gICAgICAgICAgICBkb2MudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInVzZUNvdmVyXCIpXHJcbiAgICAgICAgICAgICAgPyAoY292ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiKVxyXG4gICAgICAgICAgICAgIDogKGNvdmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiKTtcclxuXHJcbiAgICAgICAgICAgIGNsb3NlKHNiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhwb3BCdG5zLCBkb2MudGFyZ2V0KTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIC8vY2xvc2UgdGhlIHBvcHVwIGJlZm9yZVxyXG4gICAgICAgIGRvYy50YXJnZXQgIT09IHBvcEJ0bnNcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKCFkb2MudGFyZ2V0LmNsb3Nlc3QoXCIucG9wdXBcIikpIHtcclxuICAgICAgICAgIHBvcEJ0bnMuY2xhc3NMaXN0LnJlbW92ZShcImJ0bk1lbnUtYWN0aXZlXCIpO1xyXG5cclxuICAgICAgICAgIGFkZGluZ0J0bk1lbnUoZWwudGFyZ2V0LCBwb3BNZW51KTtcclxuICAgICAgICAgIGNsb3NlKHBvcE1lbnUpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJjbGlja2VkIGF3YXkgMVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAvL2NsaWNrIGF3YXkgcG9wdXAgZGlzc2FwZXJzXHJcbiAgICAgICAgIWRvYy50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnRuc1wiKVxyXG4gICAgICApIHtcclxuICAgICAgICBpZiAoIWRvYy50YXJnZXQuY2xvc2VzdChcIi5wb3B1cFwiKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJjbGlja2VkIGF3YXkgMlwiKTtcclxuXHJcbiAgICAgICAgICBwb3BCdG5zLmNsYXNzTGlzdC5yZW1vdmUoXCJidG5NZW51LWFjdGl2ZVwiKTtcclxuXHJcbiAgICAgICAgICBhZGRpbmdCdG5NZW51KGVsLnRhcmdldCwgcG9wTWVudSk7XHJcbiAgICAgICAgICBjb3Zlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgIHBvcHVwLmZvckVhY2goKHApID0+IHtcclxuICAgICAgICAgICAgY2xvc2UocCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgbGFzdENsaWNrZWQgPSBkb2MudGFyZ2V0O1xyXG4gICAgfSk7XHJcblxyXG59XHJcbmZ1bmN0aW9uIHBvcEFjdGl2ZShlbCwgcHRoYXQsIHBvcE1lbnUpIHtcclxuICBlbC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHB0aGF0LmNsYXNzTGlzdC50b2dnbGUoXCJidG5NZW51LWFjdGl2ZVwiKTtcclxuICBjb25zb2xlLmxvZyhcInBvcEFjdGl2ZSgpXCIpO1xyXG4gIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZG9jKSB7XHJcbiAgLy8gICBjb25zb2xlLmxvZyhcImRvYyBjbGljayBhZGRlZFwiKTtcclxuICAvLyAgIC8vIGlmKGRvYy50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51QnRuJykpe1xyXG5cclxuICAvLyAgIC8vICAgICBjb25zb2xlLmxvZyhkb2MudGFyZ2V0LmNsb3Nlc3QoJy5idG5Db24nKSlcclxuICAvLyAgIC8vICAgICBjb25zdCBidG5Db25Qb3AgPSBkb2MudGFyZ2V0LmNsb3Nlc3QoJy5idG5Db24nKS5xdWVyeVNlbGVjdG9yKCcubWFpblBvcCcpXHJcblxyXG4gIC8vICAgLy8gICAgIHBvcE1lbnUuZm9yRWFjaChtcCA9PiB7XHJcbiAgLy8gICAvLyAgICAgICBjb25zb2xlLmxvZyhtcClcclxuICAvLyAgIC8vICAgICAgIGlmKGJ0bkNvblBvcCA9PT0gbXApe1xyXG4gIC8vICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhtcClcclxuICAvLyAgIC8vICAgICAgIH1cclxuICAvLyAgIC8vICAgICB9KVxyXG4gIC8vICAgLy8gICAgIC8vIGRvYy50YXJnZXQuZGF0YXNldC5wb3AgPT09IHAuaWQgJiYgY29uc29sZS5sb2cocClcclxuXHJcbiAgLy8gICAvLyB9XHJcblxyXG4gIC8vICAgaWYgKHBvcFNpZGUpIHtcclxuICAvLyAgICAgLy9jbG9zZSBvbmUgcG9wc2lkZSB3aGVuIG90aGVyIG9wZW5lZFxyXG5cclxuICAvLyAgICAgcG9wU2lkZS5mb3JFYWNoKChzYikgPT4ge1xyXG4gIC8vICAgICAgIC8vIGNvbnNvbGUubG9nKHtsYXN0Y2xpY2tlZDpsYXN0Q2xpY2tlZC5jbGFzc0xpc3QscHNpZGU6c2IuaWR9KSYmIGxhc3RDbGlja2VkLmNsYXNzTGlzdC5jb250YWlucyhzYi5pZCkgJiYgbGFzdENsaWNrZWQgIT09IGRvYy50YXJnZXQgJiYgIWRvYy50YXJnZXQuY2xvc2VzdCgnLnBvcHVwLXNpZGUnKVxyXG4gIC8vICAgICAgIC8vY2xvc2UgbGFzdCBvcGVuZWQgbGlua3BvcHVwXHJcbiAgLy8gICAgICAgaWYgKFxyXG4gIC8vICAgICAgICAgbGFzdENsaWNrZWQgIT09IHVuZGVmaW5lZCAmJlxyXG4gIC8vICAgICAgICAgbGFzdENsaWNrZWQuY2xhc3NMaXN0LmNvbnRhaW5zKHNiLmlkKSAmJlxyXG4gIC8vICAgICAgICAgbGFzdENsaWNrZWQgIT09IGRvYy50YXJnZXQgJiZcclxuICAvLyAgICAgICAgICFkb2MudGFyZ2V0LmNsb3Nlc3QoXCIucG9wdXAtc2lkZVwiKVxyXG4gIC8vICAgICAgICkge1xyXG4gIC8vICAgICAgICAgY29uc29sZS5sb2coe1xyXG4gIC8vICAgICAgICAgICBsYXN0OiBsYXN0Q2xpY2tlZC5jbGFzc0xpc3QsXHJcbiAgLy8gICAgICAgICAgIGlkOiBzYi5pZCxcclxuICAvLyAgICAgICAgICAgZmlyc3Q6IGRvYy50YXJnZXQsXHJcbiAgLy8gICAgICAgICAgIG1haW5QYXJlbnQ6IGRvYy50YXJnZXQuY2xvc2VzdChcIi5wb3B1cFwiKSxcclxuICAvLyAgICAgICAgIH0pO1xyXG4gIC8vICAgICAgICAgbGFzdENsaWNrZWQuY2xhc3NMaXN0LnJlbW92ZShcImJ0bk1lbnUtYWN0aXZlXCIpO1xyXG4gIC8vICAgICAgICAgZG9jLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJ1c2VDb3ZlclwiKVxyXG4gIC8vICAgICAgICAgICA/IChjb3Zlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCIpXHJcbiAgLy8gICAgICAgICAgIDogKGNvdmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiKTtcclxuXHJcbiAgLy8gICAgICAgICBjbG9zZShzYik7XHJcbiAgLy8gICAgICAgfVxyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH1cclxuICAvLyAgIGNvbnNvbGUubG9nKHBvcEJ0bnMsIGRvYy50YXJnZXQpO1xyXG4gIC8vICAgaWYgKFxyXG4gIC8vICAgICAvL2Nsb3NlIHRoZSBwb3B1cCBiZWZvcmVcclxuICAvLyAgICAgZG9jLnRhcmdldCAhPT0gcG9wQnRuc1xyXG4gIC8vICAgKSB7XHJcbiAgLy8gICAgIGlmICghZG9jLnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwXCIpKSB7XHJcbiAgLy8gICAgICAgcG9wQnRucy5jbGFzc0xpc3QucmVtb3ZlKFwiYnRuTWVudS1hY3RpdmVcIik7XHJcblxyXG4gIC8vICAgICAgIGFkZGluZ0J0bk1lbnUoZWwudGFyZ2V0LCBwb3BNZW51KTtcclxuICAvLyAgICAgICBjbG9zZShwb3BNZW51KTtcclxuICAvLyAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrZWQgYXdheSAxXCIpO1xyXG4gIC8vICAgICB9XHJcbiAgLy8gICB9XHJcblxyXG4gIC8vICAgaWYgKFxyXG4gIC8vICAgICAvL2NsaWNrIGF3YXkgcG9wdXAgZGlzc2FwZXJzXHJcbiAgLy8gICAgICFkb2MudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJ0bnNcIilcclxuICAvLyAgICkge1xyXG4gIC8vICAgICBpZiAoIWRvYy50YXJnZXQuY2xvc2VzdChcIi5wb3B1cFwiKSkge1xyXG4gIC8vICAgICAgIGNvbnNvbGUubG9nKFwiY2xpY2tlZCBhd2F5IDJcIik7XHJcblxyXG4gIC8vICAgICAgIHBvcEJ0bnMuY2xhc3NMaXN0LnJlbW92ZShcImJ0bk1lbnUtYWN0aXZlXCIpO1xyXG5cclxuICAvLyAgICAgICBhZGRpbmdCdG5NZW51KGVsLnRhcmdldCwgcG9wTWVudSk7XHJcbiAgLy8gICAgICAgY292ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcbiAgLy8gICAgICAgcG9wdXAuZm9yRWFjaCgocCkgPT4ge1xyXG4gIC8vICAgICAgICAgY2xvc2UocCk7XHJcbiAgLy8gICAgICAgfSk7XHJcbiAgLy8gICAgIH1cclxuICAvLyAgIH1cclxuICAvLyAgIGxhc3RDbGlja2VkID0gZG9jLnRhcmdldDtcclxuICAvLyB9KTtcclxuXHJcbiAgYWRkaW5nQnRuTWVudShlbC50YXJnZXQsIHBvcE1lbnUpO1xyXG59XHJcbmZ1bmN0aW9uIGFkZGluZ0J0bk1lbnUodGhhdCwgYnRuTWVudSkge1xyXG4gIGlmICh0aGF0LmNsYXNzTGlzdC5jb250YWlucyhcImJ0bk1lbnUtYWN0aXZlXCIpKSB7XHJcbiAgICBvcGVuKGJ0bk1lbnUpO1xyXG4gIH0gZWxzZSBpZiAoIXRoYXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnRuTWVudS1hY3RpdmVcIikpIHtcclxuICAgIGNsb3NlKGJ0bk1lbnUpO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBhZGRpbmdCdG5NZW51SXRlbXModGhhdCwgcG9wcykge1xyXG4gIGNvbnNvbGUubG9nKHRoYXQpO1xyXG4gIHBvcHMuZm9yRWFjaCgocCkgPT4ge1xyXG4gICAgY29uc3QgZWxDb3JkID0gdGhhdC5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgbGV0IGNsb3NlQ29uID1cclxuICAgICAgdGhhdC5jbG9zZXN0KFwic2VjdGlvblwiKSAhPT0gbnVsbFxyXG4gICAgICAgID8gdGhhdC5jbG9zZXN0KFwic2VjdGlvblwiKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG4gICAgICAgIDogXCIwXCI7XHJcblxyXG4gICAgY29uc3QgY29yZHMgPSB7XHJcbiAgICAgIHRvcDogZWxDb3JkLnRvcCArIHdpbmRvdy5zY3JvbGxZLFxyXG4gICAgICBsZWZ0OiBlbENvcmQubGVmdCAtIGNsb3NlQ29uLmxlZnQgKyB3aW5kb3cuc2Nyb2xsWCxcclxuICAgICAgd2lkdGg6IGVsQ29yZC53aWR0aCxcclxuICAgICAgaGVpZ2h0OiBlbENvcmQuaGVpZ2h0IC0gMjAsXHJcbiAgICBcclxuICAgICAgdW5kZXJidG5Ub3A6IGVsQ29yZC50b3AgKyB3aW5kb3cuc2Nyb2xsWSArIDYwLFxyXG4gICAgICBsaW5rV2lkdGg6IHAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXHJcbiAgICBcclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBwb3NpdGlvbigpIHtcclxuICAgICAgY29uc29sZS5sb2codGhhdC5kYXRhc2V0LnBvcyA9PT0gdW5kZWZpbmVkKTtcclxuICAgICAgY29uc29sZS5sb2cocC5jbGFzc0xpc3QuY29udGFpbnMoXCJYYnRuXCIpID8gcCA6IFwibm9wZVwiKTtcclxuICAgICAgaWYgKHRoYXQuZGF0YXNldC5wb3MgPT09IFwidW5kZXJCdG5cIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaXMgdW5kZXJidG5cIiwgZWxDb3JkLmxlZnQsIHRoYXQucGFyZW50RWxlbWVudCk7XHJcbiAgICAgICAgcC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7Y29yZHMubGVmdCAtIGNvcmRzLndpZHRoIC0gMTgwfXB4LCR7XHJcbiAgICAgICAgICBjb3Jkcy51bmRlcmJ0blRvcCAtIGNvcmRzLmhlaWdodFxyXG4gICAgICAgIH1weGA7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoYXQuZGF0YXNldC5wb3MgPT09IFwibmV4dDJidG5cIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTkVYVCAyIEJUTlwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlbENvcmQubGVmdCwgdGhhdC5jbG9zZXN0KFwiLmJ0bkNvblwiKSwgIHRoYXQuY2xvc2VzdChcIi5idG5Db25cIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCk7XHJcbiAgICAgICAgcC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7Y29yZHMubGVmdCsgKGNvcmRzLndpZHRoKSArIDEwfXB4LCR7XHJcbiAgICAgICAgICBjb3Jkcy50b3AgLSBjb3Jkcy5oZWlnaHQgXHJcbiAgICAgICAgfXB4YDtcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAhdGhhdC5jbGFzc0xpc3QuY29udGFpbnMoXCJ1c2VDb3ZlclwiKSAmJlxyXG4gICAgICAgIHRoYXQuZGF0YXNldC5wb3MgPT09IHVuZGVmaW5lZFxyXG4gICAgICApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm5vcm1hbCBwb3NpdGlvblwiKTtcclxuICAgICAgICBwLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtjb3Jkcy5sZWZ0IC0gY29yZHMud2lkdGh9cHgsJHtcclxuICAgICAgICAgIGNvcmRzLnRvcCAtIGNvcmRzLmhlaWdodFxyXG4gICAgICAgIH1weGA7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhhdC5kYXRhc2V0LnBvcyA9PT0gXCJuZXh0MmJ0bkxlZnRcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTkVYVCAyIEJUTiBMRUZUXCIpO1xyXG4gICAgICAgIHAuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgkeyhjb3Jkcy5sZWZ0ICkgLSBjb3Jkcy5saW5rV2lkdGggLSAxMH1weCwke1xyXG4gICAgICAgICAgY29yZHMudG9wIC0gY29yZHMuaGVpZ2h0ICsgMTBcclxuICAgICAgICB9cHhgO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICBcclxuICAgICAgICAgIGNvcmRzLmxlZnQsXHJcbiAgICAgICAgICB0aGF0LFxyXG4gICAgICAgICAgY29yZHMud2lkdGgsXHJcbiAgICAgICAgIFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhhdC5kYXRhc2V0LnBvcCA9PT0gcC5pZCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInN0ZXAgMTpJZCBtYXRjaGVkXCIpO1xyXG4gICAgICBwb3NpdGlvbigpO1xyXG4gICAgICBpZiAocC5jbGFzc0xpc3QuY29udGFpbnMoXCJYYnRuXCIpKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpcyBYYnRuXCIpO1xyXG5cclxuICAgICAgICBtZW51SXRlbXNYKHApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1lbnVJdGVtc1RvZ2dsZShwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUZ1bmN0aW9uc1xyXG4gIGZ1bmN0aW9uIG1lbnVJdGVtc1RvZ2dsZShpdGVtKSB7XHJcbiAgICB0aGF0LmNsYXNzTGlzdC50b2dnbGUoXCJidG5NZW51LWFjdGl2ZVwiKTtcclxuICAgIGNvbnNvbGUubG9nKHRoYXQpO1xyXG4gICAgaWYgKHRoYXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnRuTWVudS1hY3RpdmVcIikpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0b2dnbGUgYWN0aXZlIGdvdCBhZGRlZFwiKTtcclxuICAgICAgb3BlbihpdGVtKTtcclxuICAgIH0gZWxzZSBpZiAoIXRoYXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYnRuTWVudS1hY3RpdmVcIikpIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0b2dnbGUgYWN0aXZlIGdvdCByZW1vdmVkXCIpO1xyXG4gICAgICBjb25zb2xlLmxvZyhpdGVtKVxyXG4gICAgICBjbG9zZShpdGVtKTtcclxuICAgIH1cclxuICB9XHJcbiAgZnVuY3Rpb24gbWVudUl0ZW1zWChpdGVtKSB7XHJcbiAgICB0aGF0LmNsYXNzTGlzdC5hZGQoXCJidG5NZW51LWFjdGl2ZVwiKTtcclxuICAgIGlmICh0aGF0LmRhdGFzZXQucG9zICE9PSBcInVuZGVyQnRuXCIpIHtcclxuICAgICAgYm9keS5hcHBlbmQoY292ZXIpO1xyXG5cclxuICAgICAgY292ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGF0LmNsYXNzTGlzdC5jb250YWlucyhcImJ0bk1lbnUtYWN0aXZlXCIpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiWGJ0biBjb250YWlucyBhY3RpdmVcIik7XHJcbiAgICAgIG9wZW4oaXRlbSk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBYID0gaXRlbS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuXHJcbiAgICBpZiAoWCkge1xyXG4gICAgICBYLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY292ZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIGNsb3NlKGl0ZW0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IFhidG4gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoXCIuYnRuX19iXCIpO1xyXG4gICAgY29uc29sZS5sb2coWGJ0biwgXCJidXR0b25cIik7XHJcbiAgICBpZiAoWGJ0bikge1xyXG4gICAgICBjb25zb2xlLmxvZyhYYnRuKTtcclxuICAgICAgWGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvdmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICBjbG9zZShpdGVtKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBsZXQgcm93QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuLy8gcm93QnRuLmlubmVySFRNTCA9IGNhcmRQb3AudGFibGVQYXNzO1xyXG5cclxuZnVuY3Rpb24gbG9hZENvbnRlbnQoKSB7XHJcbiAgZm9yIChzZWMgb2Ygc2VjdGlvbikge1xyXG4gICAgaWYgKHNlYy5jbGFzc05hbWUuaW5jbHVkZXMoXCJfcHJvamVjdFwiKSkge1xyXG4gICAgICBjb25zdCBwcm9qID0gc2VjLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjLWNvblwiKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsQ2hpbGRyZW4gPSBzZWMuZGF0YXNldC5lbDtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IGVsQ2hpbGRyZW47IGkrKykge1xyXG4gICAgICAgIHByb2ouaW5uZXJIVE1MICs9IENhcmQ7XHJcbiAgICAgIH1cclxuICAgICAgZnVuY3Rpb24gYWRkaW5nQ2FyZEhlaWdodChhY2NDb25TaXplKSB7XHJcbiAgICAgICAgYWNjQ29uU2l6ZS5zdHlsZS5oZWlnaHQgPSBgJHtcclxuICAgICAgICAgIGFjY0NvblNpemUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0XHJcbiAgICAgICAgfXB4YDtcclxuICAgICAgfVxyXG4gICAgICBhZGRpbmdDYXJkSGVpZ2h0KHByb2opOyAvL3Ntb290aGFjY2FyZGVvbiB3b250IHdvcmsgd2l0aG91dCBpdFxyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWRkaW5nQ2FyZEhlaWdodChwcm9qKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY2FyZHMgPSBzZWMucXVlcnlTZWxlY3RvckFsbChcIi5jYXJkXCIpO1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICBidG5MaXN0ZW5lcihjYXJkKTtcclxuICAgICAgLy8gcG9wU2lkZUJ0bnMuZm9yRWFjaCgobUJ0bikgPT4ge1xyXG4gICAgICAvLyAgIG1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChwb3BlKSB7XHJcbiAgICAgIC8vICAgICBwb3BlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIC8vICAgICAgICBjb25zb2xlLmxvZygndHdpY2UnKVxyXG4gICAgICAvLyAgICAgYWRkaW5nQnRuTWVudUl0ZW1zKHRoaXMscG9wdXApO1xyXG4gICAgICAvLyAgIH0pO1xyXG4gICAgICAvLyB9KTtcclxuICAgICAgLy8gY2FyZEJ0bnMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChjYXJkZSkge1xyXG4gICAgICAvLyAgIHBvcEFjdGl2ZShjYXJkZSx0aGlzLGNhcmRCdG5zLGNhcmRQb3B1cClcclxuXHJcbiAgICAgIC8vIH0pO1xyXG4gICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJidG5zXCIpKSB7XHJcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZm9yIChzZWMgb2Ygc2VjdGlvbikge1xyXG4gICAgaWYgKHNlYy5jbGFzc05hbWUuaW5jbHVkZXMoXCJfdGFibGVcIikpIHtcclxuICAgICAgY29uc3QgdGFibGVzID0gc2VjLnF1ZXJ5U2VsZWN0b3IoXCIudGFibGUtcm93c1wiKTtcclxuICAgICAgY29uc3QgYWNjQ29uID0gc2VjLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjLWNvblwiKTtcclxuXHJcbiAgICAgIGNvbnN0IGVsQ2hpbGRyZW4gPSBzZWMuZGF0YXNldC5lbDtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IGVsQ2hpbGRyZW47IGkrKykge1xyXG4gICAgICAgIHRhYmxlcy5pbm5lckhUTUwgKz0gcm93O1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIGFkZGluZ1RhYmxlSGVpZ2h0KCkge1xyXG4gICAgICAgIGFjY0Nvbi5zdHlsZS5oZWlnaHQgPSBgJHthY2NDb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fXB4YDtcclxuICAgICAgfVxyXG4gICAgICBhZGRpbmdUYWJsZUhlaWdodCgpO1xyXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBhZGRpbmdUYWJsZUhlaWdodCk7XHJcbiAgICAgIGNvbnN0IHRSb3dzID0gdGFibGVzLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFibGUtcm93X19kaXZcIik7XHJcblxyXG4gICAgICB0Um93cy5mb3JFYWNoKCh0YWIpID0+IHtcclxuICAgICAgICBidG5MaXN0ZW5lcih0YWIpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgY29uc3QgYWNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hY2NhcmRpb25cIik7XHJcbiAgZm9yIChlIG9mIGFjYykge1xyXG4gICAgY29uc3QgYnRuID0gZS5xdWVyeVNlbGVjdG9yKFwiLmFjYy1idG5cIik7XHJcbiAgICBjb25zdCBjb24gPSBlLnF1ZXJ5U2VsZWN0b3IoXCIuYWNjLWNvblwiKTtcclxuICAgIC8vIGNvbnN0IGNhcmQgPSBlLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcclxuICAgIC8vIGNvbnNvbGUubG9nKGNhcmQpXHJcblxyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW1vdmVzQmxvY2spO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZXNCbG9jayhlKSB7XHJcbiAgICAgIGJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYWNjQnRuLWFjdGl2ZVwiKTtcclxuXHJcbiAgICAgIGlmICghY29uLmNsYXNzTGlzdC5jb250YWlucyhcImFjYy1jbG9zZWRcIikpIHtcclxuICAgICAgICBjb24uY2xhc3NMaXN0LmFkZChcImFjYy1jbG9zZWRcIik7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBjb24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH0sIDUwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY2MtY2xvc2VkXCIpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgY29uLmNsYXNzTGlzdC5hZGQoXCJhY2Mtb3BlblwiKTtcclxuICAgICAgICB9LCA1MDApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjb24uc3R5bGUuaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgIC8vIGNvbi5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmNvbnNvbGUubG9nKFwiaGVoZVwiKTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGxvYWRDb250ZW50KTtcclxuXHJcbmNvbnN0IGNoZWNrbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2hlY2tib3hcIik7XHJcbmNvbnN0IGNoZWNrSXRlbSA9IGNoZWNrbGlzdC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsLWNoZWNrYm94X19pdGVtXCIpO1xyXG5jb25zb2xlLmxvZyhjaGVja0l0ZW0pO1xyXG5jaGVja0l0ZW0uZm9yRWFjaCgoY2hlY2spID0+IHtcclxuICBjb25zdCBjaGVja0lucHV0ID0gY2hlY2sucXVlcnlTZWxlY3RvcihcIi5jaGVja19faW5wdXRcIik7XHJcbiAgY2hlY2tJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHRoaXMuY2hlY2tlZCkge1xyXG4gICAgICBjaGVjay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNENUYxRkJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNoZWNrLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcclxuICAgIH1cclxuICAgIHRoaXMuY2hlY2tlZFxyXG4gICAgICA/IChjaGVjay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNENUYxRkJcIilcclxuICAgICAgOiAoY2hlY2suc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiKTtcclxuICAgIGNvbnNvbGUubG9nKFwiaGVoZVwiKTtcclxuICB9KTtcclxufSk7XHJcbiJdfQ==
